!function(){function a(a,b){a.state("home",{url:"/",templateUrl:"src/partials/home.html",access:{restricted:!1}}).state("login",{url:"/login",templateUrl:"src/js/auth/login.html",controller:"loginController",access:{restricted:!1}}).state("logout",{url:"/logout",controller:"logoutController",access:{restricted:!0}}).state("signup",{url:"/signup",templateUrl:"src/js/auth/register.html",controller:"registerController",access:{restricted:!1}}).state("about",{url:"/about",templateUrl:"src/partials/about.html",access:{restricted:!1}}).state("profile",{url:"/profile",templateUrl:"src/partials/profile.html",access:{restricted:!1}}).state("dashboard",{url:"/dashboard",templateUrl:"src/js/dashboard/dashboard.html"}),b.otherwise("/")}function b(a,b,c,d){a.$on("$stateChangeStart",function(a,e,f){e.access.restricted&&d.isLoggedIn()===!1&&(b.path("/login"),c.reload())})}angular.module("gifter",["ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider",a]).run(["$rootScope","$location","$state","AuthService",b])}(),function(){"use strict";function a(a,b,c){console.log(c.getUserStatus()),a.login=function(){a.error=!1,a.disabled=!0,c.login(a.loginForm.username,a.loginForm.password).then(function(){b.path("/dashboard"),a.disabled=!1,a.loginForm={}})["catch"](function(){a.error=!0,a.errorMessage="Invalid username and/or password",a.disabled=!1,a.loginForm={}})}}angular.module("gifter").controller("loginController",["$scope","$location","AuthService",a])}(),function(){"use strict";function a(a,b,c){a.logout=function(){console.log(c.getUserStatus()),c.logout().then(function(){b.path("/login")})}}angular.module("gifter").controller("logoutController",["$scope","$location","AuthService",a])}(),function(){"use strict";function a(a,b,c){console.log(c.getUserStatus()),a.register=function(){a.error=!1,a.disabled=!0,c.register(a.registerForm.username,a.registerForm.password,a.registerForm.firstName,a.registerForm.lastName,a.registerForm.birthday).then(function(){b.path("/dashboard"),a.disabled=!1,a.registerForm={}})["catch"](function(){a.error=!0,a.errorMessage="The username you entered is already in use",a.disabled=!1,a.registerForm={}})},a.open2=function(){a.popup2.opened=!0},a.dateOptions={formatYear:"yy",startingDay:1},a.formats=["dd-MMMM-yyyy","dd/MM/yyyy","dd.MM.yyyy","shortDate"],a.format=a.formats[0],a.altInputFormats=["M!/d!/yyyy"],a.popup2={opened:!1}}angular.module("gifter").controller("registerController",["$scope","$location","AuthService",a])}(),function(){"use strict";function a(a,b,c){function d(){return i?!0:!1}function e(){return i}function f(b,d){var e=a.defer();return c.post("/user/login",{username:b,password:d}).success(function(a,b){console.log(a.user),200===b&&a.status?(i=!0,e.resolve()):(i=!1,e.reject())}).error(function(a){i=!1,e.reject()}),e.promise}function g(){var b=a.defer();return c.get("/user/logout").success(function(a){i=!1,b.resolve()}).error(function(a){i=!1,b.reject()}),b.promise}function h(b,d,e,f,g){var h=a.defer();return c.post("/user/register",{username:b,password:d,firstName:e,lastName:f,birthday:g}).success(function(a,b){console.log(a.user),200===b&&a.status?h.resolve():h.reject()}).error(function(a){h.reject()}),h.promise}var i=null;return{isLoggedIn:d,getUserStatus:e,login:f,logout:g,register:h}}angular.module("gifter").factory("AuthService",["$q","$timeout","$http",a])}(),function(){"use strict";function a(a){a.isCollaspsed=!0}angular.module("gifter").controller("DropdownController",["$scope",a])}(),function(){"use strict";angular.module("gifter").directive("listPanel",function(){return{templateUrl:"src/js/components/list/list.directive.html",restrict:"E",replace:!0,scope:{list:"=",vm:"="},link:function(a,b,c){a.list=[{name:"Mom"},{name:"Dad"},{name:"Uncle Joe"},{name:"Peter"}]}}})}(),function(){function a(a){}angular.module("gifter").factory("DashboardFactory",["$resource",a])}(),function(){"use strict";angular.module("dashboard",["ngResource"])}();